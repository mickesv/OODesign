<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2018-01-23 Tue 10:33 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Interactions and Structure</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Mikael Svahnberg" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="org/org.css" />
<script>  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-94016964-1', 'auto');  ga('send', 'pageview');</script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Interactions and Structure</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgad70d1b">1. About This Sprint</a></li>
<li><a href="#org33fa8cf">2. User Stories covered in this Sprint</a></li>
<li><a href="#org3e44b14">3. Introduction</a>
<ul>
<li><a href="#org3064152">3.1. Contracts</a></li>
<li><a href="#orgcc6c2e3">3.2. Interaction Diagrams</a></li>
<li><a href="#org907a749">3.3. Class Diagrams</a></li>
<li><a href="#orgc6355b9">3.4. Moar Classes: Packages</a></li>
<li><a href="#orgb2002be">3.5. Moar Packages!</a></li>
</ul>
</li>
<li><a href="#org11ee79c">4. Learning Material</a>
<ul>
<li><a href="#orgae2f272">4.1. Book Chapters</a></li>
<li><a href="#org868fcad">4.2. Screencasts</a></li>
<li><a href="#org3610a8d">4.3. Further Reading</a></li>
</ul>
</li>
<li><a href="#orgc6bcff4">5. Experiential Learning</a>
<ul>
<li><a href="#org68ce70f">5.1. Sprint Test Plan</a></li>
<li><a href="#org097439a">5.2. Update Course Backlog</a></li>
</ul>
</li>
<li><a href="#org3030d48">6. Sprint Acceptance Tests</a></li>
</ul>
</div>
</div>
<div class="org">
<br/>

</div>

<div id="outline-container-orgad70d1b" class="outline-2">
<h2 id="orgad70d1b"><span class="section-number-2">1</span> About This Sprint</h2>
<div class="outline-text-2" id="text-1">
<p>
This sprint discusses how to identify and model interactions between entities in UML interaction diagrams. The sprint also covers how the interaction diagrams produce material that is used to create UML Class Diagrams.
</p>
</div>
</div>
<div id="outline-container-org33fa8cf" class="outline-2">
<h2 id="org33fa8cf"><span class="section-number-2">2</span> User Stories covered in this Sprint</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>As a software designer I want to understand how domain concepts interact so that I can select the best way to implement these interactions.</li>
<li>As a software designer I want to model both the <i>dynamic behaviour</i> as well as the <i>static structure</i> of the application so that I can communicate both to the developers.</li>
<li>As a software implementer I want to know which methods and attributes each class contains so that I can implement them.</li>
</ul>
</div>
</div>
<div id="outline-container-org3e44b14" class="outline-2">
<h2 id="org3e44b14"><span class="section-number-2">3</span> Introduction</h2>
<div class="outline-text-2" id="text-3">
<p>
So you have your system events from the UML system sequence diagrams, and you have an idea of the concepts in the problem domain based on your domain model. Your next step is to figure out what should happen inside the system as a consequence of your system events. UML books like to introduce the concept of an <i>Operation Contract</i> at this stage, and spend an impressive amount of time defining all the attributes that you should fill in for each contract. I will not go this far. I will not even require you to write any contracts. As an <i>analysis tool</i>, they are quite ok, however.
</p>

<p>
The takeaway from this sprint is, however, not the actual diagrams. What I want you to realise is that modelling the dynamic behaviour of your system is the <i>key</i> to understanding the static structure. This is the best way to keep your system lean. Yes, you can start with the static structure and model what you <i>think</i> will be needed. You will (a) get much of it wrong and have to go back and fix it later, and (b) add plenty of stuff that will never be used as you thought, so you will add the methods you really need when you develop, and then your design documentation is no longer up to date with what the code does.
</p>

<div class="note">
<p>
<b>TL;DR:</b> Use the <i>dynamic behaviour</i> of your system to extract the least possible amount of <i>static structure</i>, to keep your design relevant and lean.
</p>

</div>
</div>

<div id="outline-container-org3064152" class="outline-3">
<h3 id="org3064152"><span class="section-number-3">3.1</span> Contracts</h3>
<div class="outline-text-3" id="text-3-1">
<p>
An operation contract simply documents the system operations. This is ok, and you should really think of doing something like this anyway. If you use e.g. <a href="http://www.stack.nl/~dimitri/doxygen/">Doxygen</a> or the equivalent for your language, you document your system operations in your code so that callers of a function immediately can get an overview of the operation, its parameters, and its return values.
</p>

<p>
What I would like to focus on, however, is that in this documentation you also list <i>preconditions</i> and &#x2013; even more importantly <i>postconditions</i>. The preconditions is simply a list of conditions that must be met before this operation can be called. For example, to return change in a cash machine, there must be an ongoing sale and a payment must have been entered.
</p>

<p>
The postconditions list what should have happened <i>inside</i> the system as a result of the operation. This is not a narrative description of &ldquo;first A happens, then B, and finally C&rdquo;. It is simply a description of the final state. Think of it as a stage-and-curtain model. The system is in one state. A curtain goes down and the operation executes. When the curtain is raised again, you note the changes.
</p>


<div class="figure">
<p><img src="./images/ICurtainGoat.jpg" alt="ICurtainGoat.jpg" />
</p>
</div>

<p>
To identify <i>what</i> may have changed, you look at your domain model. Instances of some of the concepts from your domain model are involved in the operation (if not, your domain model is incomplete and should be revised). For these instances, the following may occur:
</p>

<ul class="org-ul">
<li>an instance of a concept may be created</li>
<li>an instance of a concept may be deleted</li>
<li>an attribute of an instance may change value</li>
<li>an association betwen two instances may be formed</li>
<li>an association betwen two instances may be broken</li>
</ul>

<p>
It is good form to write this in past tense (to remind you that you are only describing what has already happened):
</p>

<ul class="org-ul">
<li>An instance of <code>Goat</code> with the name <code>gHarry</code> was created.</li>
<li>The (x,y) position of the goat <code>gHarry</code> was set to (10,4).</li>
<li>An instance of <code>GoatFood</code> with the name <code>gf</code> was created.</li>
<li><code>gf</code> was associated with <code>gHarry</code>.</li>
<li>The location of <code>gf:GoatFood</code> was set to the location of <code>gHarry:Goat</code>&rsquo;s mouth.</li>
</ul>

<p>
Note that we still don&rsquo;t know <i>who</i> does all of this. We can guess that it is in fact <code>gHarry</code> that fetches the <code>gf:GoatFood</code> and puts it in his mouth while going to stand at position (10,4), but we do not know. We also do not know what else may have happened. Where did <code>gHarry</code> find the food? Was there a clown quartet that rolled a wheelbarrow full of GoatFood on stage and fed it to <code>gHarry</code> while riding unicycles? Or did we initially create 500 animals on stage and used genetic algorithms to grow and breed on those that most looked like a goat with food in its mouth? We do not know.
</p>

<p>
What we <i>do</i> know is that those concepts from the domain model that were used in this contract (and all other contracts) are those that we should model as classes. The attributes that were changed should be added to those classes with the right types. The associations formed or broken should be modelled in our class diagram. We also have an end-state that we can work towards in our interaction diagrams.
</p>

<small><small><small><small><small><small><small><small><small>
<p>
This here is the specific point from where I am going to get exam answers using Goats in the most horrible ways imaginable. I know this, and yet I wrote this example. What the hell is wrong with me?
</p>
</small></small></small></small></small></small></small></small></small>
</div>
</div>

<div id="outline-container-orgcc6c2e3" class="outline-3">
<h3 id="orgcc6c2e3"><span class="section-number-3">3.2</span> Interaction Diagrams</h3>
<div class="outline-text-3" id="text-3-2">
<p>
UML introduces two types of Interaction diagrams, namely <i>Sequence Diagrams</i> and <i>Collaboration Diagrams</i>. These express the same thing and so you can use either one. When I was once a young and budding student we only had collaboration diagrams, and for a long while I favoured them because you are able to express more in less space. These days, however, I prefer sequence diagrams because it is easier to follow the order in which operations should be called, and are overall clearer to get an overview of.
</p>

<p>
You have already acquainted yourself with sequence diagrams in the form of <i>System Sequence Diagrams</i>. The difference to these is that in a sequence diagram there is no restriction to view the system as a black box, as you do in a system sequence diagram. Indeed, the whole point is to now open up your black box and study what is going on <i>inside</i> the box. Identify which entities needs to be involved to solve the system event, which methods that should be called, and in what order.
</p>



<div id="orge2985f5" class="figure">
<p><img src="./images/FSequenceTheatre.png" alt="FSequenceTheatre.png" />
</p>
<p><span class="figure-number">Figure 2: </span>This example is officially getting silly</p>
</div>

<p>
A collaboration diagram is perhaps easier to work with on a whiteboard; you can hold more lively discussions, add an object and an interaction arrow without having to re-draw your entire model. On paper, it is less space-consuming. The cost of this is, as stated, that it is more difficult to follow the order in which methods are being called. Consider the same Goat-on-Stage example again. Note how the iteration is merely represented as an asterix <code>*</code> after the calls involved, and how the nested calls from within the <code>EvolutionManager::getGoat()</code> call have sub-numbering (1.1 and 1.2, respectively). Imagine if you have a deeper nesting, say four or five levels down, and then try to keep track of whether &ldquo;1.2.0.3.2&rdquo; is executed before &ldquo;1.2.1.3.1&rdquo; or not.
</p>



<div id="org1bb1545" class="figure">
<p><img src="./images/FCollaborationTheatre.png" alt="FCollaborationTheatre.png" />
</p>
<p><span class="figure-number">Figure 3: </span>Evolving a Goat and Putting it on Stage.</p>
</div>


<p>
One more thing to note here is that you are dealing with <i>objects</i>, i.e. instances of your classes or concepts. You are not modelling the platonic <i>idea</i> of a Goat; you are modelling <i>one specific instance</i> of a goat that is interacting with other specific instances. You are not exercising all methods available in a class; you are calling those specific methods that are needed to solve one particular system event, and you are doing this with the necessary concrete parameters.
</p>

<div class="note">
<p>
Interaction Diagrams model specific <i>objects</i> and their <i>specific interactions</i>.
</p>

</div>
</div>
</div>


<div id="outline-container-org907a749" class="outline-3">
<h3 id="org907a749"><span class="section-number-3">3.3</span> Class Diagrams</h3>
<div class="outline-text-3" id="text-3-3">
<p>
From the interaction diagrams, that describe the dynamic behaviour of specific objects, we can now start to extract how the class declarations must look like. The methods that are called on an object are placed in the corresponding class of that object. The associations formed are added to the &ldquo;owner&rdquo; class of the association (Usually, it is fairly obvious which class should be the owner of an association. Otherwise, decide now and refactor later). Attributes are more difficult to find, since they are not really that prominent in an interaction diagram. If you have made an operation contract, you can get the (post-operation visibly changed) attributes therefrom, but otherwise you will have to guess a bit based on the methods and the responsibilities each object seem to have.
</p>

<p>
I am loath to continue with the previous example but, in the interest of completeness, here goes. First, create the classes used in the example, and add the methods called on each class and the attributes I can guess at. Then, add the relations between classes where the objects call each other. I like to do it in a particular order, and I am revealing the source code for the UML Class Diagram below to show you this order. You are of course free to work in any order you prefer.
</p>



<div id="org7bbd32d" class="figure">
<p><img src="./images/FClassTheatre1.png" alt="FClassTheatre1.png" />
</p>
<p><span class="figure-number">Figure 4: </span>Class Diagram for the Theatre Example</p>
</div>

<p>
As you also may notice, I am adding the class <code>Actor</code> and introducing an inheritance between <code>Actor</code> and <code>Goat</code>, to keep the interface of the <code>ActorContainer</code> class clean. I am also adding visibility to the methods and attributes. For now, all methods appear to be public, and all attributes are private.
</p>

<p>
Also note that even though in the interaction diagram I store the returned <code>Goat</code> in the variable <code>g</code>, this variable is only needed for the duration of the <code>action()</code> method and so does not get added to the class. In general, you should try to keep variables in an as limited scope as possible. If you only need them in a block, declare them inside that block. If you only need them in a method, declare them in that method. If you <i>must</i> have them for as long as your object exist, then add them as attributes to the class. If you need them for as long as the system lives you are most likely doing things wrong, but you might consider making them <code>static</code> or adopt the <code>&lt;&lt;Singleton&gt;&gt;</code> pattern. If you need them even longer than that, put them in a database or in a file.
</p>
</div>
</div>

<div id="outline-container-orgc6355b9" class="outline-3">
<h3 id="orgc6355b9"><span class="section-number-3">3.4</span> Moar Classes: Packages</h3>
<div class="outline-text-3" id="text-3-4">
<p>
Preferrably I would like to stop now and put the rest into a separate sprint (and kill the Goat-example once and for all). However, this bit needs to be said, and it will actually help you in your diagrams so I need to put at least a small teaser here.
</p>

<p>
Essentially, you now have all the tools necessary to do object oriented design. What we will focus on more in later sprints is how to use pre-existing solution templates and principles to make a <i>good</i> design using the tools you already know after this sprint. There are, however, two major obstacles that we need to address first:
</p>

<ol class="org-ol">
<li>You are creating a giant ball of mud, with all your classes thrown into a &#x2013; for all intents and purposes &#x2013; random order.</li>
<li>You will soon not be able to fit all of your design onto one single paper.</li>
</ol>

<p>
To expand on Obstacle #1; What is the significance of that <code>TheatreStage</code> is in the top left corner of Figure <a href="#org7bbd32d">4</a>? What does it mean that <code>Actor</code> is at the bottom of the diagram? Of course, I have made this figure in <a href="http://plantuml.com/">plantUML</a>, which lays out the diagram in an order itself sees fit (since it uses <a href="http://www.graphviz.org/">GraphViz</a> as its backend, the strategy it uses is to minimise the number of arches that needs to cross each other). But even if you are using a CASE tool that allows you to position your classes with absolute coordinates (like a normal drawing program does), there is no inherent semantic meaning in the position of a class.
</p>

<p>
Enter the <i>UML Package Diagram</i>. In this diagram we take a high-level view of our system and try to define our system as a set of packages, where each package has a well-defined responsibility. We then sort our classes into these packages. This solves Obstacle #2, since we can now move some of the packages to a new page according to some logical principle. If your packages are still too big to fit, you are able to nest packages so that your packages contain more packages.
</p>

<p>
To further address Obstacle #1, you also need to define the principles according to which you divide the system into packages. Very crudely, this is what you do in your <i>Software Architecture</i>. I say crudely, because there is much more than this to software architectures. For now, let&rsquo;s stick to one of the more common architecture styles, namely the <i>Layered</i> architecture style, since this fits most interactive systems. In the layered architecture style you divide your system into three parts: User Interface, Application Logic, and Storage.
</p>



<div id="org29f037a" class="figure">
<p><img src="./images/FLayeredPackage.png" alt="FLayeredPackage.png" />
</p>
<p><span class="figure-number">Figure 5: </span>An example of a Layered Architecture, expressed in an UML Package Diagram</p>
</div>

<p>
The fact that I tack this on at the end of this sprint introduction may lure you into thinking that you <i>first</i> do your class design and <i>then</i> divide into packages. In fact, you have the overall packages in mind already before you start with the class diagram. To be more precise, you have the &ldquo;Application Logic&rdquo; layer in mind. The application logic layer is the layer that mostly contain your class representation of the concepts in your domain model. Since your analysis and your interaction diagrams mostly try to express the behaviour of your system in terms of the interaction between your domain concepts, it is hardly surprising that the class diagram thus derived deals mostly with the application logic needed to represent the problem domain.
</p>

<p>
Because the focus right now is to determine what from your domain model is relevant for you to solve in your software application, and how to do it, you are not concerned at the moment with the pure software application aspects of the system. This includes the user interface, technical services (for example a key/value store, rule engines etc.), persistent storage facilities, etc.
</p>

<p>
&ldquo;But&rdquo;, an astute reader may think, &ldquo;does this not just put us back to square one? We still have all our classes in one big package that won&rsquo;t fit on a single page&rdquo;. Yes it does. And no it doesn&rsquo;t, because you can (and you should) nest packages inside your packages. What you should do is thus to think about the high-level packages you have <i>inside</i> your application logic/domain logic package.
</p>

<div class="note">
<p>
<b>To Summarise:</b>
</p>
<ul class="org-ul">
<li>Right now you will be focusing mostly on the Application Logic Layer</li>
<li>Start by defining the high-level packages <i>inside</i> the application logic layer</li>
<li>Then study the dynamic behaviour of your system</li>
<li>Identify the involved entities (classes), and add these to your class diagram to represent the static structure of your system, along with the methods, attributes, and associations you have identified as necessary.</li>
<li>Allocate the identified classes to you packages.</li>
<li>&#x2026;</li>
<li>profit!</li>
</ul>

</div>
</div>
</div>

<div id="outline-container-orgb2002be" class="outline-3">
<h3 id="orgb2002be"><span class="section-number-3">3.5</span> Moar Packages!</h3>
<div class="outline-text-3" id="text-3-5">
<p>
As your system grows, you will get an increasing number of packages, and you will pretty soon need to worry about how you assign responsibilities and classes to different packages. Chapter 35 in C. Larman, <i>Applying UML and Patterns</i>, 3rd Edition covers some guidelines for this. Remember that they are <i>guidelines</i> and not set in stone. Glancing through the list there are one or two that I disagree with, and we will discuss this in the appropriate lecture.
</p>
</div>
</div>
</div>
<div id="outline-container-org11ee79c" class="outline-2">
<h2 id="org11ee79c"><span class="section-number-2">4</span> Learning Material</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orgae2f272" class="outline-3">
<h3 id="orgae2f272"><span class="section-number-3">4.1</span> Book Chapters</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>C. Larman, <i>Applying UML and Patterns</i>, 3rd Edition, Chapters:
<ol class="org-ol">
<li value="11">Operation Contracts</li>
<li value="13">Logical Architecture and UML Package Diagrams</li>
<li value="14">On to Object Design</li>
<li value="15">UML Interaction Diagrams</li>
<li>UML Class Diagrams</li>
<li value="31">Domain Model Refinement</li>
<li value="35">Package Design</li>
</ol></li>
</ul>
</div>
</div>
<div id="outline-container-org868fcad" class="outline-3">
<h3 id="org868fcad"><span class="section-number-3">4.2</span> Screencasts</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li><a href="https://play.bth.se/media/Contracts/1_086yu2lr/41750261">Contracts</a></li>
<li><a href="https://play.bth.se/media/Interaction+Diagrams/1_pntlhd3l">Interaction Diagrams</a></li>
<li><a href="https://play.bth.se/media/From+Interactions+to+Classes/1_8cte1tiv">From Interaction Diagrams to Classes</a></li>
<li><a href="https://play.bth.se/media/Packages/1_31pkpm8r">Packages</a></li>
</ul>
</div>
</div>
<div id="outline-container-org3610a8d" class="outline-3">
<h3 id="org3610a8d"><span class="section-number-3">4.3</span> Further Reading</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li><a href="http://dilbert.com/strip/1997-03-09e">Dilbert solves the Software Design Problem</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgc6bcff4" class="outline-2">
<h2 id="orgc6bcff4"><span class="section-number-2">5</span> Experiential Learning</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org68ce70f" class="outline-3">
<h3 id="org68ce70f"><span class="section-number-3">5.1</span> Sprint Test Plan</h3>
<div class="outline-text-3" id="text-5-1">
<p>
Go through the user stories for this sprint and make sure you have a clear understanding of how to solve each of them.
</p>

<p>
Revisit and update your risks and contingencies section.
</p>

<p>
Add and/or revise the following items to your glossary:
</p>
<ul class="org-ul">
<li>Interaction Diagrams
<ul class="org-ul">
<li>Sequence Diagrams</li>
<li>Collaboration Diagrams (Also: Communication Diagram)</li>
</ul></li>
<li>Operation Contracts (Also: Design Contracts)</li>
<li>Class Diagrams
<ul class="org-ul">
<li>Associations</li>
<li>Aggregation</li>
<li>Composition</li>
<li>Class Roles</li>
<li>Multiplicity</li>
</ul></li>
<li>Dynamic Behaviour</li>
<li>Static Structure</li>
<li>Package Diagram</li>
<li>Software Architecture</li>
<li>Architecture Style
<ul class="org-ul">
<li>Layered Architecture Style</li>
</ul></li>
</ul>

<p>
Make sure you understand what each item is, the notation for them, and how to use them either in isolation or together with the other concepts.    
</p>
</div>
</div>
<div id="outline-container-org097439a" class="outline-3">
<h3 id="org097439a"><span class="section-number-3">5.2</span> Update Course Backlog</h3>
<div class="outline-text-3" id="text-5-2">
<p>
When deciding how to solve a system event in terms of interacting objects, are there better ways for the objects to interact, and are there worse ways? With respect to what?
</p>

<p>
Are there any other questions that you want answered? Add them, along with a brief strategy for how to find an answer.    
</p>
</div>
</div>
</div>
<div id="outline-container-org3030d48" class="outline-2">
<h2 id="org3030d48"><span class="section-number-2">6</span> Sprint Acceptance Tests</h2>
<div class="outline-text-2" id="text-6">
<p>
You are done with this sprint when:
</p>
<ul class="org-ul">
<li>You have an understanding of how the dynamic behaviour of the system is used to identify the static structure</li>
<li>You have an understanding of how you may use your previous analysis, in terms of Use Cases, System Sequence Diagrams, and Domain Model to initiate your design of the dynamic behaviour.</li>
<li>You have committed/pushed these documents to your project repository.</li>
</ul>

<p>
You may also have
</p>
<ul class="org-ul">
<li>Updated your Sprint Test Plan</li>
<li>Updated your Course Backlog</li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Mikael Svahnberg</p>
<p class="email">Email: <a href="mailto:Mikael.Svahnberg@bth.se">Mikael.Svahnberg@bth.se</a></p>
<p class="date">Created: 2018-01-23 Tue 10:33</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
